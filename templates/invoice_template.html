<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Invoice - {{ invoice_number }}</title>
    <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: "Times New Roman", Times, serif; font-size: 12px; line-height: 1.3; background-color: #f9f9f9; color: #333; }
    .invoice-box { max-width: 800px; margin: 8px auto; background: white; padding: 12px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }

    .header-top { 
        display: flex; 
        justify-content: space-between; 
        align-items: center; 
        margin-bottom: 8px; 
        min-height: 50px;
    }
    .logo img { max-height: 40px; width: auto; }
    .logo { flex-shrink: 0; margin-right: 20px; }
    .company-header { 
        flex: 1; 
        text-align: right; 
        white-space: nowrap;
    }
    .company-header h1 { 
        font-size: 12px; 
        color: #2c5aa0; 
        margin-bottom: 2px; 
        white-space: nowrap;
        font-weight: bold;
    }
    .company-header p { 
        font-size: 12px; 
        color: #666; 
        white-space: nowrap;
    }

    .header-separator { border: none; border-top: 1px solid #2c5aa0; margin: 8px 0; }
    .invoice-main-container { border: 1px solid #ddd; padding: 8px; margin: 8px 0; }

    .invoice-details { display: flex; justify-content: space-between; margin-bottom: 12px; }
    .invoice-info, .customer-info { flex: 1; font-size: 12px; }
    .customer-info { margin-left: 8px; }
    .invoice-info p, .customer-info p { margin-bottom: 4px; }

    .section-header { margin: 12px 0 8px; }
    .section-header h3 { font-size: 12px; padding: 4px; background-color: #f0f4f8; border-left: 3px solid #2c5aa0; font-weight: bold; }

    table { width: 100%; border-collapse: collapse; margin-bottom: 8px; font-size: 12px; }
    th, td { padding: 4px; text-align: left; border-bottom: 1px solid #ddd; }
    th { background-color: #f8f9fa; color: #2c5aa0; font-weight: bold; }
    tr:nth-child(even) { background-color: #f8f9fa; }
    .section-total { background-color: #e8f4f8 !important; font-weight: bold; border-top: 1px solid #2c5aa0; }
    
    /* Column widths for better layout */
    .serial-col { width: 8%; text-align: center; }
    .description-col { width: 40%; }
    .size-col { width: 15%; text-align: center; }
    .quantity-col { width: 12%; text-align: center; }
    .amount-col { width: 15%; text-align: right; }

    .totals-section { display: flex; justify-content: flex-end; margin-top: 8px; font-size: 12px; }
    .totals-column { min-width: 200px; }
    .total-row { display: flex; justify-content: space-between; padding: 3px 0; }
    .total-label { font-weight: bold; }
    .final-total { border-top: 1px solid #2c5aa0; font-size: 12px; font-weight: bold; color: #2c5aa0; }

    .terms-section { margin-top: 15px; padding: 8px; background-color: #f8f9fa; border-left: 3px solid #2c5aa0; font-size: 12px; }

    .footer-details { margin-top: 12px; display: flex; justify-content: space-between; font-size: 12px; color: #666; }

    button { background-color: #2c5aa0; color: white; padding: 5px 12px; font-size: 12px; border: none; border-radius: 4px; cursor: pointer; margin: 12px 0; }
    button:hover { background-color: #1e3d6f; }

    /* Specifications page */
    .page-break { page-break-before: always; }
    .specifications-page { 
        font-size: 12px; 
        padding-top: 50px;
    }
    .specifications-page h2 { font-size: 12px; text-align: center; color: #2c5aa0; margin-bottom: 15px; font-weight: bold; }
    .specifications-page table { font-size: 12px; }
    .specifications-page th, .specifications-page td { padding: 6px; border: 1px solid #ddd; }
    .specifications-page ul { margin: 0; padding-left: 15px; font-size: 12px; }
    .specifications-page li { margin-bottom: 2px; }

    .payment-gateway-section { margin-top: 15px; text-align: center; }
    .payment-gateway-title { color: #28a745; margin-bottom: 8px; font-size: 12px; font-weight: bold; }
    .payment-gateway-list { text-align: left; display: inline-block; font-size: 12px; }
    .payment-gateway-list li { margin-bottom: 3px; }

    /* Terms and conditions page */
    .terms-page { font-size: 12px; line-height: 1.3; }
    .terms-page h2 { font-size: 12px; font-weight: bold; }
    .terms-list { line-height: 1.3; font-size: 12px; padding-left: 20px; }
    .terms-list li { margin-bottom: 8px; text-align: justify; padding-left: 10px; }
    .terms-page .invoice-main-container { padding: 15px; }

    @media print {
        body { background-color: white; }
        .invoice-box { box-shadow: none; margin: 0; }
        button { display: none; }
        .page-break { page-break-before: always; }
        .specifications-page { 
            padding-top: 30px;
        }
        
        /* Ensure header doesn't break on print */
        .header-top { 
            display: flex !important; 
            justify-content: space-between !important; 
            align-items: center !important;
            flex-wrap: nowrap !important;
            page-break-inside: avoid;
        }
        .company-header h1 { 
            white-space: nowrap !important;
            font-size: 12px !important;
        }
        .company-header p { 
            white-space: nowrap !important;
            font-size: 12px !important;
        }
        .logo { 
            flex-shrink: 0 !important; 
            margin-right: 15px !important; 
        }
    }
</style>

</head>
<body>
    <div class="invoice-box">
        <div class="header-top">
            <div class="logo">
                <img src="{{ url_for('static', filename='final_logo.png') }}" alt="Naksh Interior Logo" />
            </div>
            <div class="company-header">
                <h1>{{ company_name }}</h1>
                <p>ARCHITECT | INTERIOR | CONSULTING | CONTRACTING</p>
            </div>
        </div>
        <hr class="header-separator" />

        <!-- Main Invoice Container with Border -->
        <div class="invoice-main-container">
            <div class="invoice-details">
                <div class="invoice-info">
                    <div style="border: 1px solid #ddd; padding: 8px; background-color: #f9f9f9; margin-bottom: 10px;">
                        <p><strong>Invoice Number:</strong> {{ invoice_number }}</p>
                        <p><strong>Date:</strong> {{ invoice_date }}</p>
                        <p><strong>Currency:</strong> {{ currency }}</p>
                    </div>
                </div>
                <div class="customer-info" style="border: 1px solid #ddd; padding: 8px; background-color: #f9f9f9; margin-bottom: 10px;">
                    <p><strong>Bill To:</strong></p>
                    <p>
                        {{ customer_name }}<br />
                        {{ customer_address | nl2br }}
                    </p>
                </div>
            </div>

            <!-- Work Sections Container -->
            <div style="border: 1px solid #ddd; padding: 10px; margin-bottom: 15px; background-color: #fafafa;">
                <!-- Section A - Furniture Work Table -->
                {% if civil_items %}
                <div class="section-header">
                    <h3>A - FURNITURE WORK</h3>
                </div>
                <div class="items-table-container">
                    <table>
                        <thead>
                            <tr>
                                <th class="serial-col">Sr. No.</th>
                                <th class="description-col">Description</th>
                                <th class="size-col">Size</th>
                                <th class="quantity-col">Quantity</th>
                                <th class="amount-col">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for item in civil_items %}
                            <tr>
                                <td class="serial-col">{{ "%02d"|format(loop.index) }}</td>
                                <td class="description-col">{{ item.description }}</td>
                                <td class="size-col">{{ item.size }}</td>
                                <td class="quantity-col">{{ item.quantity }}</td>
                                <td class="amount-col">{{ currency_symbol }}{{ "{:.2f}".format(item.total) }}</td>
                            </tr>
                            {% endfor %}
                            <tr class="section-total">
                                <td colspan="4"><strong>Furniture Work Total:</strong></td>
                                <td class="amount-col"><strong>{{ currency_symbol }}{{ "{:.2f}".format(civil_total) }}</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                {% endif %}

                <!-- Section B - Civil Work Table -->
                {% if furniture_items %}
                <div class="section-header">
                    <h3>B - CIVIL WORK</h3>
                </div>
                <div class="items-table-container">
                    <table>
                        <thead>
                            <tr>
                                <th class="serial-col">Sr. No.</th>
                                <th class="description-col">Description</th>
                                <th class="size-col">Size</th>
                                <th class="quantity-col">Quantity</th>
                                <th class="amount-col">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for item in furniture_items %}
                            <tr>
                                <td class="serial-col">{{ "%02d"|format(loop.index) }}</td>
                                <td class="description-col">{{ item.description }}</td>
                                <td class="size-col">{{ item.size }}</td>
                                <td class="quantity-col">{{ item.quantity }}</td>
                                <td class="amount-col">{{ currency_symbol }}{{ "{:.2f}".format(item.total) }}</td>
                            </tr>
                            {% endfor %}
                            <tr class="section-total">
                                <td colspan="4"><strong>Civil Work Total:</strong></td>
                                <td class="amount-col"><strong>{{ currency_symbol }}{{ "{:.2f}".format(furniture_total) }}</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                {% endif %}
            </div>

            <!-- Totals Section Container -->
            <div style="border: 1px solid #ddd; padding: 10px; background-color: #f0f4f8;">
                <div class="totals-column">
                    <div class="total-row">
                        <span class="total-label">Subtotal:</span>
                        <span class="total-value">{{ currency_symbol }}{{ "{:.2f}".format(subtotal) }}</span>
                    </div>
                    {% if include_gst %}
                    <div class="total-row">
                        <span class="total-label">GST (18%):</span>
                        <span class="total-value">{{ currency_symbol }}{{ "{:.2f}".format(gst_tax) }}</span>
                    </div>
                    {% endif %}
                    {% if include_igst %}
                    <div class="total-row">
                        <span class="total-label">IGST (5%):</span>
                        <span class="total-value">{{ currency_symbol }}{{ "{:.2f}".format(igst_tax) }}</span>
                    </div>
                    {% endif %}
                    {% if shipping_charges > 0 %}
                    <div class="total-row">
                        <span class="total-label">Shipping Charges:</span>
                        <span class="total-value">{{ currency_symbol }}{{ "{:.2f}".format(shipping_charges) }}</span>
                    </div>
                    {% endif %}
                    <div class="total-row final-total">
                        <span class="total-label">Total:</span>
                        <span class="total-value">{{ currency_symbol }}{{ "{:.2f}".format(total_amount) }}</span>
                    </div>
                </div>
            </div>
        </div>

        <button onclick="window.print()">Print Invoice</button>

        <!-- Page Break for Specifications -->
        <div class="page-break"></div>
        
        <!-- Page 2: Specifications -->
        <div class="specifications-page">
            
            <hr class="header-separator" />
            
            <!-- Specifications container with border -->
            <div class="invoice-main-container">
                <h2>SPECIFICATIONS</h2>
                
                <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">
                    <thead>
                        <tr style="background-color: #f8f9fa;">
                            <th style="border: 1px solid #ddd; padding: 6px; text-align: center; width: 60px;">SR. NO.</th>
                            <th style="border: 1px solid #ddd; padding: 6px; text-align: center; width: 120px;">DESCRIPTION</th>
                            <th style="border: 1px solid #ddd; padding: 6px; text-align: center;">MATERIALS TO BE USED</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Hardcoded specifications -->
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 6px; text-align: center;">01</td>
                            <td style="border: 1px solid #ddd; padding: 6px;">PLYWOOD / MDF</td>
                            <td style="border: 1px solid #ddd; padding: 6px;">
                                6MM, 12MM, 18MM, 25MM, 30MM, ETC Alternate GURJAN PLYWOOD TO BE USED BOILING WATER RESISTANT (BWR) 303 & 710 GRADE PLY TO BE USED
                            </td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 6px; text-align: center;">02</td>
                            <td style="border: 1px solid #ddd; padding: 6px;">HARDWARE</td>
                            <td style="border: 1px solid #ddd; padding: 6px;">
                                EBCO, SOLO, GODREJ, HETTICH, BOSH, EUROPA, ROMA, ONYX, ETC TO BE USED.
                            </td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 6px; text-align: center;">03</td>
                            <td style="border: 1px solid #ddd; padding: 6px;">LAMINATES / ACRYLIC</td>
                            <td style="border: 1px solid #ddd; padding: 6px;">
                                INTERNAL LAMINATE : FABRIC FINISH ( SIESTA ) EXTERNAL LAMINATE : ADVANCE,CROMA ROYAL TOUCH,MERINO, CENTURY, ACRYLIC ETC FINISHES AS PER REQUIREMENTS & INTERNAL SIDE WILL IN WHITE 0.8MM LAMINATE FINISH, EXTERNAL SIDE WILL BE IN 1MM/ PLY FOR BOX STRUCTURE & KITCHEN ACRYLIC CHOICE UPTO 3200/PER SHEET NO WARRANTY
                            </td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 6px; text-align: center;">04</td>
                            <td style="border: 1px solid #ddd; padding: 6px;">MATERIAL NOT INCLUDED</td>
                            <td style="border: 1px solid #ddd; padding: 6px;">
                                MATERIAL UNDER CLIENT SCOPE MATTRESS / CURTAINS / HEADBOARD ETC.
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div style="margin-top: 15px;">
                    <h3 style="text-align: center; color: blue; margin-bottom: 10px; font-size: 12px; font-weight: bold;">OWNER'S MATERIAL AND WORK</h3>
                    <table style="width: 100%; border-collapse: collapse;">
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 10px; vertical-align: top; width: 50%;">
                                <ul style="margin: 0; padding-left: 15px; font-size: 12px;">
                                    <li>REFRIGERATOR</li>
                                    <li>A/C</li>
                                    <li>MICROWAVE</li>
                                    <li>TV, HOME THEATRE FITTING</li>
                                    <li>GEYSER</li>
                                    <li>CEILING FANS</li>
                                    <li>R/O</li>
                                    <li>DOOR BELL</li>
                                    <li>HDMI CABLE</li>
                                    <li>TV CABLE</li>
                                    <li>WIFI CABLE</li>
                                    <li>WIFI CONNECTIONS</li>
                                    <li>ARTIFICIAL LAWN</li>
                                </ul>
                            </td>
                            <td style="border: 1px solid #ddd; padding: 10px; vertical-align: top; width: 50%;">
                                <ul style="margin: 0; padding-left: 15px; font-size: 12px;">
                                    <li>INVERTER</li>
                                    <li>EXTRA CHANDLIER</li>
                                    <li>CLOTHES HANGER</li>
                                    <li>TOILET/BATH ACCESSORIES</li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                    <p style="text-align: center; font-weight: bold; margin-top: 10px; font-size: 12px; font-style: italic;">
                        NOTE : THE INSTALLATION OF ABOVE LIST OF ITEMS WILL BE CONSIDERED IN EXTRA WORKS AND WILL BE CHARGED EXTRA.
                    </p>
                </div>

                <div class="payment-gateway-section">
                    <h3 class="payment-gateway-title">- - - PAYMENT GATEWAY MENTIONED BELOW - - -</h3>
                    <ul class="payment-gateway-list">
                        <li><strong>50 %</strong> AMOUNT AT THE STARTING OF THE PROJECT</li>
                        <li><strong>25 %</strong> AMOUNT AT THE MIDDLE STAGE OF THE PROJECT</li>
                        <li><strong>20 %</strong> AMOUNT AT THE START OF THE PAINTING WORKS</li>
                        <li><strong>5 %</strong> AMOUNT BEFORE HANDOVER OF THE PROJECT</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Page Break for Terms and Conditions -->
        <div class="page-break"></div>
        
        <!-- Page 3: Standard Terms and Conditions -->
        <div class="terms-page">
            
            <hr class="header-separator" />
            
            <!-- Terms container with same border as page 1 -->
            <div class="invoice-main-container">
                <h2 style="text-align: center; margin-bottom: 20px;">TERMS AND CONDITIONS</h2>
                
                <ol class="terms-list">
                    <li>THIS QUOTE IS FOR MATERIALS AND SERVICES ARE APPLICABLE FOR THIS QUARTER ONLY.</li>
                    
                    <li>WE ARE NOT APPLYING ANY OF THE TRANSPORT CHARGES FOR PUNE REGION.</li>
                    
                    <li>OUR COMPANY USES PRESS FITTED MACHINE SHUTTERS.</li>
                    
                    <li>RATES CAN MODIFY AS PER SELECTION OF LAMINATES / VENEERS / DUCO / PU.</li>
                    
                    <li>ADDITIONAL CARPENTRY WORK TO BE CHARGED DEPENDING UPON QUANTUM OF WORK, EITHER ON ITEM RATE BASIS OR LUMPSUM AS MUTUALLY AGREED UPON.</li>
                    
                    <li>THE ITEMS AND WORKS WHICH ARE MENTIONED IN THE QUOTATION ONLY AND NOT IN 3D DESIGN, THOSE ITEMS OR WORK WILL ONLY BE EXECUTED, IF THERE ARE ANY ADD-ON IN THE WORK THEN THAT WILL BE CONSIDERED IN EXTRA WORKS AND TO BE CHARGED UPON QUANTUM OF WORK EITHER ON ITEM RATE BASIS OR LUMPSUM.</li>
                    
                    <li>WATER AND ELECTRICITY SHOULD BE PROVIDED FREE OF COST BY CLIENT.</li>
                    
                    <li>IF THERE IS ELECTRICITY CUTOUT, THEN PROJECT / WORK MAY BE DELAYED.</li>
                    
                    <li>IN CASE OF GST BILL 18% CHARGES EXTRA WILL BE APPLICABLE.</li>
                    
                    <li>COMPANY SHALL NOT BE LIABLE ANY PREVENTION, HINDRANCE OR DELAY IN MANUFACTURERS AND MATERIAL SHORTAGE IN MARKET OR MANPOWER BUT IT RESPONSIVE.</li>
                    
                    <li>IF THE PAYMENTS ARE PENDING IT MAY CAUSE DELAY IN COMPLETING THE PROJECT.</li>
                    
                    <li>EXTRA CHARGES WILL BE APPLIED FOR EXTRA FITTING WORKS LIKE PHOTO FRAMES, WALL CLOCK, DECORATIVE ITEMS, TOILET/BATHROOM ACCESSORIES FITTINGS, HANGERS, EXTRA CURTAIN RODS, HOOKS, ARTIFICIAL LAWNS, EXTRA FURNITURE ITEMS, OLD FURNITURE REWORK ETC.</li>
                    
                    <li>PAYMENT SHOULD BE STRICTLY CLEARED BEFORE THE HANDOVER OF THE PROJECT.</li>
                    
                    <li>ALL THE TERMS AND CONDITIONS WILL BE DISCUSSED AT THE INITIAL STAGE OF THE WORK.</li>
                    
                    <li>THE 3D DESIGNS ARE ONLY FOR THE VISUALIZATION PURPOSE AND THE DESIGN, COLOUR COMBINATIONS CAN VARY AS PER THE SITE CONDITION WHILE EXECUTION.</li>
                    
                    <li>EXTRA SHELVES, EXTRA STORAGE AND ALL OTHER EXTRA ITEMS WHICH ARE NOT MENTIONED IN THE QUOTATION WILL BE CHARGED AND CONSIDERED IN EXTRA WORK.</li>
                </ol>

                <div style="margin-top: 30px; text-align: center; font-size: 12px;">
                    <p><strong>Thank you for choosing Naksh Interior!</strong></p>
                    <p>For any queries, please contact us at +91 9762764662 or nakshinterior2020@gmail.com</p>
                </div>
            </div>
        </div>

        <!-- Footer: company details at the bottom -->
        <hr />
        <div class="footer-details">
            <div class="contact-info">
                <p>Phone: +91 9762764662</p>
                <p>Email: <a href="mailto:nakshinterior2020@gmail.com">nakshinterior2020@gmail.com</a></p>
            </div>
            <div class="address-info">
                <p>407, 4th Floor, Shivneri A-21 Bldg, Swarajya City,<br />
                   Sec. 12, Near Spine City Mall, Spine Road, PCMC, Pune</p>
            </div>
        </div>
    </div>
</body>
</html>